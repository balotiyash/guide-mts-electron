<!-- 
    File: src/views/dashboard.html
    Author: Yash Balotiya
    Description: This page contains all the HTML5 code of the Dashboard Page after Login.
    Created on: 04/08/2025
    Last Modified: 10/12/2025
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Tab Title -->
    <title>Guide Motor Training School | Dashboard</title>

    <!-- Content Security Policy (adjusted to allow CDN & iFrame) -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self'; 
        script-src 'self' https://cdn.jsdelivr.net; 
        style-src 'self' 'unsafe-inline'; 
        font-src https://fonts.googleapis.com https://fonts.gstatic.com; 
        img-src 'self' data:;
        frame-src https://www.google.com;
        connect-src 'self' http://*:3000;
    ">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../styles/shared.css">
    <link rel="stylesheet" href="../styles/dashboard.css">
    <link rel="stylesheet" href="../styles/dashboard_right.css">
    <link rel="stylesheet" href="../styles/dashboard_responsive.css">
    <link rel="stylesheet" href="../scripts/imports/flatpickr.min.css">
</head>

<body>
    <!-- Loading Screen -->
    <div id="loadingDiv">
        <h3>Loading...</h3>
        <img src="../assets/gifs/loading_animation.gif" alt="Loading Animation">
    </div>

    <!-- Main Content -->
    <main id="mainContainer">
        <!-- Header Section -->
        <section id="headerSection">
            <!-- Guide MTS Logo -->
            <img src="../assets/images/guide-logo.png" alt="Guide Motor Training School Logo" id="logoImage">

            <!-- Month Input -->
            <input type="month" id="monthInput" title="Select Month & Year for Chart Data" />
        </section>

        <!-- Actual Area -->
        <section id="dashboardSection">

            <!-- Left Buttons Div -->
            <div id="leftButtonsDiv">
                <!-- Button 1 -->
                <div class="dashboardButton" id="registrationButton">
                    <img src="../assets/images/registration.jpg" alt="Customer Registration Image">
                    <p>Registration</p>
                </div>

                <!-- Button 2 -->
                <div class="dashboardButton" id="feesButton">
                    <img src="../assets/images/amount.jpg" alt="Customer Fees Image">
                    <p>Payment</p>
                </div>

                <!-- Button 3 -->
                <div class="dashboardButton" id="searchButton">
                    <img src="../assets/images/search.jpg" alt="Customer Search Image">
                    <p>Search</p>
                </div>

                <!-- Button 4 -->
                <div class="dashboardButton" id="form14Button">
                    <img src="../assets/images/form-14.jpg" alt="Form 14 Image">
                    <p>Form 14</p>
                </div>

                <!-- Button 5 -->
                <div class="dashboardButton" id="fuelEntryButton">
                    <img src="../assets/images/car-fuel.jpg" alt="Car Fuel Image">
                    <p>Car Fuel</p>
                </div>

                <!-- Button 6 -->
                <div class="dashboardButton" id="backupButton">
                    <img src="../assets/images/backup.jpg" alt="Backup Image">
                    <p>Backup</p>
                </div>
            </div>

            <!-- Middle Section -->
            <div id="middleChartsDiv">

                <!-- Chart Div1 -->
                <div class="chartContainer">
                    <h3>Total Students Enrolled</h3>
                    <canvas id="chart1"></canvas>
                </div>

                <!-- Chart Div2 -->
                <div class="chartContainer cc2">

                    <!-- Left -->
                    <div class="chartContainer2">
                        <h3>Car Fuel Consumption</h3><br>
                        <canvas id="chart2"></canvas>
                    </div>

                    <!-- Right -->
                    <div class="chartContainerSmall3">
                        <h3>Car Selection</h3><br>
                        <canvas id="chart3"></canvas>
                    </div>
                </div>
            </div>

            <!-- Right Section -->
            <div id="rightMainDiv">

                <!-- Date & Time Section -->
                <div class="rightChild">
                    <!-- Title -->
                    <h3>Current Date & Time</h3>

                    <!-- Date & Time Display -->
                    <div class="dateTimeDiv">
                        <span id="currentDate">Loading...</span>
                        <span id="currentTime">Loading...</span>
                    </div>
                </div>

                <!-- Stats Section -->
                <div class="rightChild">

                    <!-- Title -->
                    <h3>Business Stats</h3>

                    <!-- Main Stats Div 1 -->
                    <div class="mainStatsDiv">
                        <!-- All Time Registration -->
                        <span class="statCard">
                            <small>All Time Registration</small>
                            <big><b id="allTimeCountTxt">Loading...</b></big>
                        </span>

                        <!-- Current Year Registration -->
                        <span class="statCard">
                            <small>Current Year Registration</small>
                            <big><b id="currentYearCountTxt">Loading...</b></big>
                        </span>
                    </div>

                    <!-- Main Stats Div 2 -->
                    <div class="mainStatsDiv">

                        <!-- Repeat Students -->
                        <span class="statCard">
                            <small>Repeat Customers</small>
                            <big><b id="repeatStudentsCountTxt">Loading...</b></big>
                        </span>

                        <!-- Pending Payments -->
                        <span class="statCard">
                            <small>Pending Payments</small>
                            <big><b id="pendingPaymentsCountTxt">Loading...</b></big>
                        </span>
                    </div>
                </div>

                <!-- Reminder Section -->
                <div class="rightChild">
                    <!-- Title -->
                    <h3>Today's Reminders</h3>

                    <!-- Reminder Bars -->
                    <div class="bar-container" id="reminderBarContainer">
                        <div class="bar" id="birthdayReminder">CLICK HERE FOR<br><br>TODAY'S BIRTHDAY REMINDER</div>
                        <div class="bar" id="llCompletedReminder">CLICK HERE FOR<br><br>TODAY'S LL COMPLETED 30 DAYS REMINDER</div>
                        <div class="bar" id="paymentReminder">CLICK HERE FOR<br><br>TODAY'S PAYMENT REMINDER</div>
                        <div class="bar" id="dlExpiryReminder">CLICK HERE FOR<br><br>TODAY'S DL EXPIRY REMINDER</div>
                    </div>

                    <!-- No Reminders Message -->
                    <h3 id="noRemindersMessage" style="display: none; text-align: center;">No reminders for today ðŸŽ‰</h3>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="../scripts/imports/flatpickr.js"></script>
    <script src="../scripts/imports/chart.umd.js"></script>
    <script type="module" src="../scripts/renderer/dashboard.js"></script>
    <script type="module" src="../scripts/renderer/dashboard_charts.js"></script>
    <script type="module" src="../scripts/renderer/dashboard_reminders.js"></script>
</body>

</html>